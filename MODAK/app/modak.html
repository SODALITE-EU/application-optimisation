<!-- #######  YAY, I AM THE SOURCE EDITOR! #########-->
<h1 style="color: #5e9ca0;">MODAK</h1>
<h2 style="color: #2e6c80;">How to use the MODAK:</h2>
<p dir="auto" data-sourcepos="2:1-2:23">MODAK contains 4 components</p>
<ul dir="auto" data-sourcepos="3:1-7:0">
<li data-sourcepos="3:1-3:10">Mapper</li>
<li data-sourcepos="4:1-4:10">Scaler</li>
<li data-sourcepos="5:1-5:9">Tuner</li>
<li data-sourcepos="6:1-7:0">Enforcer</li>
</ul>
<p dir="auto" data-sourcepos="8:1-8:43">To use MODAK, it requires a input json with</p>
<ul>
<li>job options</li>
<ul>
<li>models the metadata for batch schedulers like Slurm and torque</li>
<li>The model is based on https://kb.northwestern.edu/page.php?id=89454</li>
</ul>
<li>application run data</li>
<ul>
<li>Models the application run (mpi ranks, threads, &hellip;)</li>
</ul>
<li>target data</li>
<ul>
<li>Models the target info like type of scheduler</li>
</ul>
<li>optimisation DSL</li>
<ul>
<li>Models the optimisation for HPC and AI training application</li>
</ul>
</ul>
<p>&nbsp;</p>
<p>and has one API</p>
<p><a href="http://34.89.53.105:5000/optimise">http://</a><a href="http://34.89.53.105:5000/optimise">34.89.53.105</a><a href="http://34.89.53.105:5000/optimise">:5000/optimise</a> (Examples below)</p>
<p>which takes a json input and returns the updated json with modified entries and job script</p>
<p>&nbsp;</p>
<p>Optimise method takes the following input json as shown below (Full specification)</p>
<blockquote>
<p><span style="color: #0000ff;">{<br /> &nbsp; "job":{<br /> &nbsp;&nbsp;&nbsp; "job_options": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "job_name": "test",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "account": "test",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "queue": "standard",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "wall_time_limit": "12:00:00 ",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "node_count": 4,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "core_count": 12,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "process_count_per_node": 24,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "core_count_per_process": 2,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "memory_limit": "",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "minimum_memory_per_processor": "10 MB",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "request_gpus": 2,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "request_specific_nodes": "BW20",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "job_array": "1,2,3,4",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "standard_output_file": "output file path",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "standard_error_file": "file path",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "combine_stdout_stderr": true,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "architecture_constraint": "arch",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "copy_environment": true,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "copy_environment_variable": "",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "job_dependency": " ",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "request_event_notification": "events",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "email_address": "mail.com",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "defer_job": "date/time",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "node_exclusive": true<br /> &nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp; "application": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_tag": "",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "container_runtime": "ubuntu:18_04",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_type": "mpi",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "executable": "test_mpi",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "arguments": "a b c",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "mpi_ranks": 48,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "threads": 2,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "pre-execution": "script to run before execution",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "post-execution": "script to run after execution",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "build": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "src": "git://solver",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "build_command": "make -j 2"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp; "target": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "hlrs_testbed",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "queue_type": "slurm"<br /> &nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp; "optimisation": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "enable_opt_build": true,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "enable_autotuning":true,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_type":"ai_training/hpc/big_data/ai_inference",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "opt_build": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "cpu_type": "x86/arm/amd/power",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "acc_type": "nvidia/amd/fpga"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "autotuning": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "tuner": "cresta",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "input": "dsl text"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_type-ai_training": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "config": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "ai_framework": "tensorflow/pytorch/keras/cntk/mxnet",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "type": "image_classification/object_detection/translation/recommendation/reinforncement_learning" ,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "distributed_training": true,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "layers": 6 ,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "parameters": 872684236<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "data": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "location": "/some/data" ,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "basedata": "Imagenet/CIFAR/MNIST" ,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "size": 67 ,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "count": 4389,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "etl": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "prefetch": 100,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "cache": 100<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "ai_framework-keras": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "version": 1.1,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "backend": "tensorflow/pytorch/cntk/mxnet/keras"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "ai_framework-tensorflow": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "version": "1.1",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "xla": true<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "ai_framework-pytorch": {<br /> &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"version": "1.1",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "glow": true<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_type-hpc": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "config":{<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "parallelisation":"mpi/openmp/opencc/opencl"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "data":{<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "location": "/some/data" ,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "basedata": "IMAGE/RESTART" ,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "size": 67 ,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "count": 4389,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "etl": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "prefetch": true,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "cache": true<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "parallelisation-mpi": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "library": "mvapch/opnmpi",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "version": "1.1",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "scaling_efficiency": 0.75,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "core_subscription": 1,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "message_size": "small/medium/large"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "parallelisation-openmp": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "number_of_threads": 2,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "scaling_efficiency": 0.75,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "affinity": "block/simpe"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "parallelisation-opencc": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "compiler": "pgi/cray",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "version": "1.1",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "number_of_acc": 2<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "parallelisation-opencl": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "compiler": "pgi/cray",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "version": "1.1",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "number_of_acc": 2<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_type-big_data": {},<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_type-ai_inference": {}<br /> &nbsp;&nbsp;&nbsp; }<br /> }<br /> &nbsp; }<br /> }</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
</blockquote>
<h2 style="color: #2e6c80;">Examples:</h2>
<blockquote>
<p>curl --header "Content-Type: application/json"&nbsp;&nbsp; --request POST&nbsp;&nbsp; --data '{<br /> &nbsp; "job":{<br /> &nbsp;&nbsp;&nbsp; "job_options": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "job_name": "solver",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "wall_time_limit": "1:00:00 ",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "node_count": 2,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "core_count": 40,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "process_count_per_node": 40,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "standard_output_file": "file.out",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "standard_error_file": "file.err",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "combine_stdout_stderr": true,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "request_event_notification": "abe",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "email_address": "kartshy@gmail.com"<br /> &nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp; "application": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_tag": "solver_clinicalUC",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "container_runtime": "codeaster",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_type": "hpc",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "executable": "${ASTER_ROOT}/14.4/bin/aster ",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "arguments": "${ASTER_ROOT}/14.4/lib/aster/Execution/E_SUPERV.py \\\n-commandes fort.1 --num_job=1432 --mode=interactif \\\n--rep_outils=${ASTER_ROOT}/outils \\\n--rep_mat=${ASTER_ROOT}/14.4/share/aster/materiau \\\n--rep_dex=${ASTER_ROOT}/14.4/share/aster/datg \\\n--numthreads=1 --suivi_batch --memjeveux=8192.0 --tpmax=3600.0",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "mpi_ranks": 40,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "threads": 1,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "build": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "src": "<a href="https://www.code-aster.org/FICHIERS/aster-full-src-14.4.0-1.noarch.tar.gz">https://www.code-aster.org/FICHIERS/aster-full-src-14.4.0-1.noarch.tar.gz</a>",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "build_command": "python3 setup.py install\n"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp; "optimisation": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "enable_opt_build": true,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "enable_autotuning":true,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_type":"hpc",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "opt_build": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "cpu_type": "x86",<br /> &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"acc_type": ""<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "autotuning": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "tuner": "cresta",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "input": "dsl text"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_type-hpc": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "config":{<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "parallelisation":"mpi"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "data":{<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "location": "L1L2_NonLinear_prepared.tar.gz"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "parallelisation-mpi": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "library": "mpich",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "version": "3.1.4"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; }<br /> &nbsp; }<br /> }'&nbsp;&nbsp; <a href="http://34.89.53.105:5000/optimise">http://34.89.53.105:5000/optimise</a></p>
</blockquote>
<p><strong>&nbsp;</strong></p>
<p>&nbsp;</p>
<blockquote>
<p>curl --header "Content-Type: application/json" \<br /> &nbsp; --request POST \<br /> &nbsp; --data '{<br /> &nbsp; "job": {<br /> &nbsp;&nbsp;&nbsp; "job_options": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "job_name": "skyline-extraction-training",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "wall_time_limit": "12:00:00 ",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "node_count": 1,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "core_count": 40,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "request_gpus": 1,<br /> &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;"request_specific_nodes": "ssd",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "standard_output_file": "skyline-extraction-training.out",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "standard_error_file": "skyline-extraction-training.err",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "combine_stdout_stderr": true,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "copy_environment": true,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "request_event_notification": "abe",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "email_address": "kartshy@gmail.com"<br /> &nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp; "application": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_tag": "skyline-extraction-training",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "container_runtime": "tensorflow/tensorflow:2.1.0-gpu-py3",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_type": "python",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "executable": "python3 resnet/resnet_imagenet_main.py",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "arguments": "--data_dir=/mnt/nfs/home/karthee/AI/data/tf_records/train/ -batch_size=96 --train_epochs=3 --train_steps=10 --use_synthetic_data=false"<br /> &nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp; "optimisation": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "enable_opt_build": true,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "enable_autotuning":true,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_type":"ai_training",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "opt_build": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "cpu_type": "x86",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "acc_type": "nvidia"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "autotuning": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "tuner": "cresta",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "input": "dsl text"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app_type-ai_training": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "config": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "ai_framework": "tensorflow"<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "data": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "ai_framework-tensorflow": {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "version": "2.1",<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "xla": true<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; }<br /> &nbsp; }<br /> }<br /> ' \<br /> &nbsp; <a href="http://34.89.53.105:5000/optimise">http://34.89.53.105:5000/optimise</a></p>
</blockquote>